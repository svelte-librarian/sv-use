import{t as b,a as u,d as B}from"./disclose-version.DBoScU1a.js";import{i as C}from"./legacy.DQ5qgGTw.js";import{D as x,v as t,w as n,p as D,a as E,c as y,r as S,f as I,s as T,b as U,t as z}from"./runtime.BtYRUgJo.js";import{s as A}from"./render.B0azeTSR.js";import{i as H}from"./if.DKS3FxwI.js";import{B as M}from"./Button.CTPbdzLc.js";import{p as k}from"./proxy.pxA-SMcc.js";import{a as $}from"./index-client.8TZSItko.js";function R(p={},m={}){const{title:s="",body:a="",dir:d="auto",lang:v="",tag:w="",icon:o="",requireInteraction:r=!1,silent:f=!1}=p,{autoRequestPermission:h=!0,onShow:g=()=>{},onClick:N=()=>{},onClose:P=()=>{},onError:_=()=>{}}=m;let e=x(!1),c=x(k(t(e)&&"permission"in Notification&&Notification.permission==="granted")),i=x(null);$(()=>{if(!window||!("Notification"in window)){n(e,!1);return}if(Notification.permission==="granted"){n(e,!0);return}try{const l=new Notification("");l.onshow=()=>{l.close()}}catch(l){if(l.name==="TypeError"){n(e,!1);return}}n(e,!0)}),$(async()=>{h&&await q()});async function q(){return t(e)?(!t(c)&&Notification.permission!=="denied"&&await Notification.requestPermission()==="granted"&&n(c,!0),t(c)):null}async function G(){return!t(e)||!t(c)?null:(n(i,k(new Notification(s,{body:a,dir:d,lang:v,tag:w,icon:o,requireInteraction:r,silent:f}))),t(i).onshow=g,t(i).onclick=N,t(i).onclose=P,t(i).onerror=_,t(i))}function W(){t(i)&&t(i).close(),n(i,null)}return{get isSupported(){return t(e)},get isPermissionGranted(){return t(c)},get notification(){return t(i)},show:G,close:W}}var Y=b("<span> </span> <!>",1),j=b("<p>Your browser doesn't support the Web Notifications API...</p>"),F=b('<div class="flex flex-col gap-5 dark:text-zinc-200"><!></div>');function tt(p,m){D(m,!1);const s=R({title:"Hello from SvelteUse! ðŸŽ‰",body:"This is a notification created with SvelteUse's `createWebNotification` function."});C();var a=F(),d=y(a);{var v=o=>{var r=Y(),f=I(r),h=y(f);S(f);var g=T(f,2);M(g,{onclick:()=>s.show(),children:(N,P)=>{U();var _=B("Show notification");u(N,_)},$$slots:{default:!0}}),z(()=>A(h,`Permission granted : ${s.isPermissionGranted??""}`)),u(o,r)},w=o=>{var r=j();u(o,r)};H(d,o=>{s.isSupported?o(v):o(w,!1)})}S(a),u(p,a),E()}export{tt as default};
