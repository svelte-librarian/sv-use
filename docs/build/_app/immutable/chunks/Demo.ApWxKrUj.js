import{t as h,a as x,d as $}from"./disclose-version.DBoScU1a.js";import{v as t,_ as T,D as b,w as u,p as k,a as A,c as S,r as P,f as R,s as D,b as B,t as E}from"./runtime.BtYRUgJo.js";import{s as z}from"./render.B0azeTSR.js";import{i as L}from"./if.DKS3FxwI.js";import{p as C}from"./proxy.pxA-SMcc.js";import{B as V}from"./Button.CTPbdzLc.js";import{I as Y}from"./Input.Bjc0ygat.js";import{o as j}from"./index-client.8TZSItko.js";import{g as I}from"./index.svelte.Dtucj_lI.js";import{h as q}from"./index.svelte.HebWSbtT.js";import{a as F}from"./utils.svelte.BDOzgmnI.js";function G(g={}){const{autoCleanup:y=!0,allowRead:n=!1,copyDuration:p=2e3,legacyCopy:l=!1}=g,i=T(()=>navigator&&"clipboard"in navigator),f=T(()=>t(i)||l),m=I("clipboard-read",{exposeControls:!0}),o=I("clipboard-write");let r=b(!1),a=b(""),d=F;t(f)&&n&&(d=q(["copy","cut"],_)),y&&j(()=>{d()});function v(e){t(f)&&(t(i)&&o?navigator.clipboard.writeText(e).then(()=>{u(r,!0),setTimeout(()=>{u(r,!1)},p)}):c(e),u(a,C(e)))}async function _(){t(i)&&u(a,C(m.isSupported&&m.current!=="denied"?await navigator.clipboard.readText():w()))}function c(e){const s=document.createElement("textarea");s.value=e,document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s)}function w(){var e,s;return((s=(e=document==null?void 0:document.getSelection)==null?void 0:e.call(document))==null?void 0:s.toString())??""}return{get isSupported(){return t(i)},get isCopied(){return t(r)},get text(){return t(a)},copyText:v,cleanup:d}}var H=h("<span> </span> <!> <!>",1),J=h("<span>Your browser doesn't support the Clipboard API...</span>"),K=h('<div class="relative flex w-full flex-col gap-2 dark:text-zinc-200"><!></div>');function re(g,y){k(y,!0);let n=b("");const p=G({allowRead:!0,legacyCopy:!0});var l=K(),i=S(l);{var f=o=>{var r=H(),a=R(r),d=S(a);P(a);var v=D(a,2);Y(v,{get value(){return t(n)},set value(c){u(n,C(c))}});var _=D(v,2);V(_,{onclick:()=>p.copyText(t(n)),children:(c,w)=>{B();var e=$("Copy");x(c,e)},$$slots:{default:!0}}),E(()=>z(d,`Currently copied : ${p.text??""}`)),x(o,r)},m=o=>{var r=J();x(o,r)};L(i,o=>{p.isSupported?o(f):o(m,!1)})}P(l),x(g,l),A()}export{re as default};
