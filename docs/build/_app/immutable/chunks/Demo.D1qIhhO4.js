import{t as f,a as c,f as ue,d as N,g as O}from"./disclose-version.DBoScU1a.js";import{v as r,_ as te,w as l,D as _,p as de,a as fe,c as w,r as S,n as Q,s as z,t as T,b as X,f as W}from"./runtime.BtYRUgJo.js";import{s as Y}from"./render.B0azeTSR.js";import{i as $}from"./if.DKS3FxwI.js";import{r as me,b as ve,c as ge,s as he}from"./attributes.yrSLWYUD.js";import{s as _e}from"./class.G-P-aYEK.js";import{p}from"./proxy.pxA-SMcc.js";import{B as Z}from"./Button.CTPbdzLc.js";import{c as xe}from"./cn.Bjcfd9VR.js";import{w as ke}from"./index.svelte.BnyKxUim.js";import{i as be}from"./is.svelte.DhDKMixu.js";import{a as ee,n as we}from"./utils.svelte.BDOzgmnI.js";import{d as Se}from"./configurable.BpG3mneI.js";import{w as ze}from"./index.svelte.JYs1x1jk.js";function ye(A={}){const{interimResults:y=!0,continuous:m=!0,maxAlternatives:B=1,lang:R="en-US",onError:C=ee,onResult:G=ee,window:v=Se}=A;let e,s=_(!1),x=_(!1),L=_(""),u=_(null);const F=te(()=>we(R)),P=v&&(v.SpeechRecognition||v.webkitSpeechRecognition),q=be(()=>P);q.current&&(e=new P,e.continuous=m,e.interimResults=y,e.lang=r(F),e.maxAlternatives=B,e.onstart=()=>{l(s,!0),l(x,!1)},e.onresult=t=>{const n=t.results[t.resultIndex],{transcript:i}=n[0];l(x,p(n.isFinal)),l(L,p(i)),l(u,null),G(i,r(x))},e.onerror=t=>{l(u,p(t)),C(t)},e.onend=()=>{l(s,!1)},ke(()=>!!r(F)&&!!e&&!r(s),()=>{e.lang=r(F)}));function a(){r(s)||e==null||e.start()}function o(){r(s)&&(e==null||e.stop())}return{get isSupported(){return q.current},get isListening(){return r(s)},get isFinal(){return r(x)},get recognition(){return e},get result(){return r(L)},set result(t){l(L,p(t))},get error(){return r(u)},set error(t){l(u,p(t))},start:a,stop:o}}var Re=(A,y,m)=>y(m()),Le=f('<label class="my-auto inline-flex cursor-pointer select-none items-center gap-2 dark:text-zinc-200"><input type="radio"> </label>'),Fe=f('<div class="relative flex w-full flex-col items-start gap-2 dark:text-zinc-200"><p>Your browser does not support the Speech Recognition API.</p> <a target="_blank" href="https://caniuse.com/speech-recognition" class="bg-svelte dark:bg-darksvelte rounded-md px-3 py-1 text-white">More details on caniuse.</a></div>'),Ue=f('<p class="text-sm italic text-zinc-500 dark:text-zinc-400"> </p>'),$e=f('<p class="text-sm italic text-zinc-500 dark:text-zinc-400">Speak some spanish!</p>'),Ae=f('<p class="text-sm italic text-zinc-500 dark:text-zinc-400">Speak some french!</p>'),Ge=f('<!> <!> <p class="dark:text-zinc-200"> </p>',1),Pe=f('<div class="relative flex w-full flex-col gap-3"><div class="space-x-4"><!> <!> <!></div> <!></div>'),qe=f('<div class="relative flex w-full flex-col gap-2"><!></div>');function Ne(A,y){de(y,!0);const m=(a,o=Q,t=Q)=>{var n=Le(),i=w(n);me(i),i.__change=[Re,L,t];var g=z(i);S(n),T(D=>{ve(i,r(e)===t()),_e(i,ge(D)),Y(g,` ${o()??""}`)},[()=>xe("relative mr-1 h-4 w-4 select-none rounded-full bg-zinc-500/30 p-0","inline-block shrink-0 select-none appearance-none bg-origin-border","after:checked:bg-svelte dark:after:checked:bg-darksvelte",'after:absolute after:inset-[3px] after:rounded-full after:content-[""]')]),c(a,n)};function B(a,o){const t=a.slice(0);let n=a.length,i,g;for(;n--;)g=Math.floor((n+1)*Math.random()),i=t[g],t[g]=t[n],t[n]=i;return t.slice(0,o)}const R=["aqua","azure","beige","bisque","black","blue","brown","chocolate","coral","crimson","cyan","fuchsia","ghostwhite","gold","goldenrod","gray","green","indigo","ivory","khaki","lavender","lime","linen","magenta","maroon","moccasin","navy","olive","orange","orchid","peru","pink","plum","purple","red","salmon","sienna","silver","snow","tan","teal","thistle","tomato","turquoise","violet","white","yellow","transparent"],C=`#JSGF V1.0; grammar colors; public <color> = ${R.join(" | ")} ;`;let G=_(p([])),v=_("transparent"),e=_("en-US");const s=ye({lang:()=>r(e),onError(a){console.log(`An error occurred : ${a}`)}});if(s.isSupported){const a=window.SpeechGrammarList||window.webkitSpeechGrammarList,o=new a;o.addFromString(C,1),s.recognition.grammars=o,ze(()=>s.result,()=>{for(const t of s.result.toLowerCase().split(" ").reverse())if(R.includes(t)){l(v,p(t));break}})}function x(){l(v,"transparent"),s.result="",l(G,p(B(R,5))),s.start()}function L(a){s.stop(),l(e,p(a))}var u=qe(),F=w(u);{var P=a=>{var o=Fe();c(a,o)},q=a=>{var o=Pe(),t=w(o),n=w(t);m(n,()=>"English (US)",()=>"en-US");var i=z(n,2);m(i,()=>"French",()=>"fr");var g=z(i,2);m(g,()=>"Spanish",()=>"es"),S(t);var D=z(t,2);{var re=k=>{Z(k,{onclick:x,children:(E,H)=>{X();var M=N("Press and talk");c(E,M)},$$slots:{default:!0}})},ae=k=>{var E=Ge();const H=te(()=>r(e)==="en-US"?`background: ${r(v)}`:"");var M=W(E);Z(M,{onclick:()=>s.stop(),children:(d,h)=>{X();var U=N("Stop");c(d,U)},$$slots:{default:!0}});var K=z(M,2);{var se=d=>{var h=Ue(),U=w(h);S(h),T(V=>Y(U,`Speak some english ! Try one of these colors : ${V??""}`),[()=>r(G).join(", ")]),c(d,h)},oe=d=>{var h=O(),U=W(h);{var V=b=>{var j=$e();c(b,j)},ie=b=>{var j=O(),le=W(j);{var ce=J=>{var pe=Ae();c(J,pe)};$(le,J=>{r(e)==="fr"&&J(ce)},!0)}c(b,j)};$(U,b=>{r(e)==="es"?b(V):b(ie,!1)},!0)}c(d,h)};$(K,d=>{r(e)==="en-US"?d(se):d(oe,!1)})}var I=z(K,2),ne=w(I,!0);S(I),T(()=>{he(I,"style",r(H)),Y(ne,s.result)}),c(k,E)};$(D,k=>{s.isListening?k(ae,!1):k(re)})}S(o),c(a,o)};$(F,a=>{s.isSupported?a(q,!1):a(P)})}S(u),c(A,u),fe()}ue(["change"]);export{Ne as default};
