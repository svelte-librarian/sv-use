import{t as V,d as q,a as B}from"./disclose-version.DBoScU1a.js";import{D as p,R as A,v as t,_ as x,w as o,p as F,c as k,s as M,t as G,a as H,r as T,b as I}from"./runtime.BtYRUgJo.js";import{s as R}from"./render.B0azeTSR.js";import{s as J,c as K}from"./attributes.yrSLWYUD.js";import{s as N}from"./class.G-P-aYEK.js";import{b as W}from"./this.Ckp3tthg.js";import{p as _}from"./proxy.pxA-SMcc.js";import{h as z}from"./index.svelte.HebWSbtT.js";import{a as Y,n as Q}from"./utils.svelte.BDOzgmnI.js";import{c as U}from"./cn.Bjcfd9VR.js";import{B as Z}from"./Button.CTPbdzLc.js";function tt($,E={}){const{passive:g=!0,threshold:v=50,onStart:c=Y,onMove:l=Y,onEnd:m=Y}=E,r={passive:g,capture:!g};let b=[],a=p(!1),s=p(_({x:0,y:0})),i=p(_({x:0,y:0}));const h=x(()=>Q($)),d=x(()=>t(s).x-t(i).x),f=x(()=>t(s).y-t(i).y),y=x(()=>Math.max(Math.abs(t(d)),Math.abs(t(f)))>=v),n=x(()=>t(y)?Math.abs(t(d))>Math.abs(t(f))?t(d)>0?"left":"right":t(f)>0?"up":"down":"none");A(()=>(t(h)&&(b=[z(t(h),"touchstart",j,r),z(t(h),"touchmove",L,r),z(t(h),["touchend","touchcancel"],O,r)]),C));function S(e){return[e.touches[0].clientX,e.touches[0].clientY]}function X(e,u){t(s).x=e,t(s).y=u}function D(e,u){t(i).x=e,t(i).y=u}function j(e){if(e.touches.length!==1)return;const[u,w]=S(e);X(u,w),D(u,w),c(e)}function L(e){if(e.touches.length!==1)return;const[u,w]=S(e);D(u,w),r.capture&&!r.passive&&Math.abs(t(d))>Math.abs(t(f))&&e.preventDefault(),!t(a)&&t(y)&&o(a,!0),t(a)&&l(e)}function O(e){t(a)&&m(e,t(n)),o(a,!1)}function C(){b.forEach(e=>e())}function P(){o(s,_({x:0,y:0})),o(i,_({x:0,y:0}))}return{get isSwiping(){return t(a)},get direction(){return t(n)},get coordsStart(){return t(s)},get coordsEnd(){return t(i)},get lengthX(){return t(d)},get lengthY(){return t(f)},reset:P,cleanup:C}}var et=V('<div class="relative flex w-full flex-col gap-5"><p class="text-sm italic text-zinc-500 dark:text-zinc-400">Try dragging the element for half the container.</p> <div class="relative flex h-20 select-none items-center justify-center overflow-hidden border-2 border-dashed border-[#ccc]"><div><p class="overflow-hidden whitespace-nowrap text-center font-bold dark:text-zinc-200">Swipe right</p></div></div> <!> <p class="text-center dark:text-zinc-200"> <br> </p></div>');function ht($,E){F(E,!0);let g=p(void 0),v=p(void 0),c=p("0"),l=p(1);const m=x(()=>{var n;return(n=t(v))==null?void 0:n.offsetWidth}),r=tt(()=>t(g),{onMove(){if(t(m))if(r.lengthX<0){const n=Math.abs(r.lengthX);o(c,`${n}px`),o(l,1.1-n/t(m))}else o(c,"0"),o(l,1)},onEnd(){r.lengthX<0&&t(m)&&Math.abs(r.lengthX)/t(m)>=.5?(o(c,"100%"),o(l,0)):(o(c,"0"),o(l,1))}});function b(){o(c,"0"),o(l,1),r.reset()}var a=et(),s=M(k(a),2),i=k(s);W(i,n=>o(g,n),()=>t(g)),T(s),W(s,n=>o(v,n),()=>t(v));var h=M(s,2);Z(h,{onclick:b,children:(n,S)=>{I();var X=q("Reset");B(n,X)},$$slots:{default:!0}});var d=M(h,2),f=k(d),y=M(f,2);T(d),T(a),G(n=>{J(i,"style",`left: ${t(c)??""}; opacity: ${t(l)??""};`),N(i,K(n)),R(f,`Direction: ${(r.direction?r.direction:"-")??""} `),R(y,` lengthX: ${r.lengthX??""} | lengthY: ${r.lengthY??""}`)},[()=>U("bg-svelte dark:bg-darksvelte relative grid h-full w-full place-items-center",r.isSwiping&&"duration-200 ease-in-out")]),B($,a),H()}export{ht as default};
