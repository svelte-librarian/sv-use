import{t as I,d as K,a as $}from"./disclose-version.DBoScU1a.js";import{R as ce,v as l,_ as ve,T as pe,D as Z,w as b,p as ue,c as i,s as f,t as N,a as me,r as t,b as R,n as xe}from"./runtime.BtYRUgJo.js";import{s as F}from"./render.B0azeTSR.js";import{i as U}from"./if.DKS3FxwI.js";import{e as W,i as q}from"./each.Jod9iOwd.js";import{c as H}from"./attributes.yrSLWYUD.js";import{s as J}from"./class.G-P-aYEK.js";import{b as Q}from"./this.Ckp3tthg.js";import{B as X}from"./Button.CTPbdzLc.js";import{c as Y}from"./cn.Bjcfd9VR.js";import{p as ee}from"./proxy.pxA-SMcc.js";import{h as B}from"./index.svelte.HebWSbtT.js";import{a as E,n as ae,t as ge}from"./utils.svelte.BDOzgmnI.js";function re(L,V={}){const{allowedDataTypes:v="*",multiple:y=!0,preventDefaultForUnhandled:k=!1,onDrop:u=E,onEnter:m=E,onLeave:j=E,onOver:A=E}=V;let x=[],g=0,_=!0;const d=ve(()=>ae(L));let h=Z(!1),z=Z(null);ce(()=>(l(d)&&pe(()=>{x.push(B(l(d),"dragenter",e=>D(e,"enter")),B(l(d),"dragover",e=>D(e,"over")),B(l(d),"dragleave",e=>D(e,"leave")),B(l(d),"drop",e=>D(e,"drop")))}),()=>{O(),x=[]}));function S(e){var o;const n=Array.from(((o=e.dataTransfer)==null?void 0:o.files)??[]);return n.length===0?null:y?n:[n[0]]}function T(e){if(e.length===0)return!1;if(v instanceof Function&&v.length>0)return v(e);if(v==="*")return!0;const n=v;return e.every(o=>ge(ae(n)).some(c=>c.split("/")[1]==="*"?o.startsWith(c.split("/")[0]):o===c))}function C(e){const n=Array.from(e??[]).map(p=>p.type),o=T(n),c=y||e.length<=1;return o&&c}function M(){return/^(?:(?!chrome|android).)*safari/i.test(navigator.userAgent)&&!("chrome"in window)}function D(e,n){var p;const o=(p=e.dataTransfer)==null?void 0:p.items;if(_=(o&&C(o))??!1,k&&e.preventDefault(),!M()&&!_){e.dataTransfer&&(e.dataTransfer.dropEffect="none");return}e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="copy");const c=S(e);switch(n){case"enter":g+=1,b(h,!0),m(e);break;case"over":A(e);break;case"leave":g-=1,g===0&&b(h,!1),j(e);break;case"drop":g=0,b(h,!1),_&&(b(z,ee(c)),u(c,e));break}}function O(){x.map(e=>e())}return{get files(){return l(z)},set files(e){b(z,ee(e))},get isOver(){return l(h)},cleanup:O}}var _e=I('<div class="relative flex w-full flex-col items-start gap-1 py-2"><span class="text-sm"> </span> <span class="text-sm"> </span> <span class="text-sm"> </span></div>'),he=I('<div class="relative flex w-full flex-col divide-y divide-zinc-200"></div>'),we=I('<div class="relative flex w-full flex-col divide-y divide-zinc-200"></div>'),be=I('<div class="relative flex w-full flex-col gap-5 dark:text-zinc-200"><p>Drop files from your computer on to one of the drop zones.</p> <div class="relative flex w-full flex-col gap-5 md:flex-row"><div class="relative flex w-full flex-col gap-2"><div><span class="font-semibold">General Drop Zone</span> <span> </span></div> <div class="relative flex w-full flex-col items-start gap-2"><div class="relative flex w-full items-center justify-between"><span>Files</span> <!></div> <!></div></div> <div class="relative flex w-full flex-col gap-2"><div><span class="font-semibold">Image Drop Zone</span> <span> </span></div> <div class="relative flex w-full flex-col items-start gap-2"><div class="relative flex w-full items-center justify-between"><span>Files</span> <!></div> <!></div></div></div></div>');function Le(L,V){ue(V,!0);const v=(a,r=xe)=>{var s=_e(),w=i(s),le=i(w);t(w);var G=f(w,2),ne=i(G);t(G);var P=f(G,2),oe=i(P);t(P),t(s),N((fe,de)=>{F(le,`Name : ${r().name??""}`),F(ne,`Last modified : ${fe??""}`),F(oe,`Size : ${de??""}`)},[()=>new Date(r().lastModified).toLocaleString(),()=>A(r().size)]),$(a,s)};let y=Z(void 0),k=Z(void 0);const u=re(()=>l(y)),m=re(()=>l(k),{allowedDataTypes:"image/*"});function j(a,r){const s=10*r;return Math.floor(a*s)/s}function A(a){const r=["B","KB","MB","GB"];let s=0;for(;a>=1024;)a/=1024,s++;return`${j(a,2)} ${r[s]}`}var x=be(),g=f(i(x),2),_=i(g),d=i(_),h=f(i(d),2),z=i(h);t(h),t(d),Q(d,a=>b(y,a),()=>l(y));var S=f(d,2),T=i(S),C=f(i(T),2);X(C,{onclick:()=>u.files=[],children:(a,r)=>{R();var s=K("Clear");$(a,s)},$$slots:{default:!0}}),t(T);var M=f(T,2);{var D=a=>{var r=he();W(r,21,()=>u.files,q,(s,w)=>{v(s,()=>l(w))}),t(r),$(a,r)};U(M,a=>{u.files!==null&&a(D)})}t(S),t(_);var O=f(_,2),e=i(O),n=f(i(e),2),o=i(n);t(n),t(e),Q(e,a=>b(k,a),()=>l(k));var c=f(e,2),p=i(c),te=f(i(p),2);X(te,{onclick:()=>m.files=[],children:(a,r)=>{R();var s=K("Clear");$(a,s)},$$slots:{default:!0}}),t(p);var se=f(p,2);{var ie=a=>{var r=we();W(r,21,()=>m.files,q,(s,w)=>{v(s,()=>l(w))}),t(r),$(a,r)};U(se,a=>{m.files!==null&&a(ie)})}t(c),t(O),t(g),t(x),N((a,r)=>{J(d,H(a)),F(z,`Is Over ? ${u.isOver??""}`),J(e,H(r)),F(o,`Is Over ? ${m.isOver??""}`)},[()=>Y("rounded-m relative flex h-[200px] w-full flex-col items-center justify-center gap-2 rounded-md",u.isOver?"bg-svelte text-zinc-50":"bg-zinc-200 dark:bg-zinc-800"),()=>Y("rounded-m relative flex h-[200px] w-full flex-col items-center justify-center gap-2 rounded-md",m.isOver?"bg-svelte text-zinc-50":"bg-zinc-200 dark:bg-zinc-800")]),$(L,x),me()}export{Le as default};
