import{w as s,D as i,v as o}from"./runtime.BtYRUgJo.js";import{p}from"./proxy.pxA-SMcc.js";import{a as g}from"./index-client.8TZSItko.js";function d(r,u={}){const{exposeControls:c=!1}=u,f=typeof r=="string"?{name:r}:r;let t=i("prompt"),n=i(!1);function e(){return navigator.permissions.query(f)}return g(async()=>{if("permissions"in navigator)try{const a=await e();s(n,!0),s(t,p(a.state)),a.onchange=async()=>{s(t,p((await e()).state))}}catch{}}),c?{get isSupported(){return o(n)},get current(){return o(t)},query:e}:o(t)}export{d as g};
