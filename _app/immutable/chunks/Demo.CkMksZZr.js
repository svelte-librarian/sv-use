import{t as y,d as C,a as c}from"./disclose-version.DBoScU1a.js";import{D as k,w as x,v as t,p as F,c as _,_ as P,s as $,t as D,a as z,b as E,r as m}from"./runtime.BtYRUgJo.js";import{s as A}from"./clone.BYqg91hD.js";import{s as b}from"./render.B0azeTSR.js";import{e as L}from"./each.Jod9iOwd.js";import{p as d}from"./proxy.pxA-SMcc.js";import{o as O}from"./index-client.8TZSItko.js";import{h as w}from"./index.svelte.HebWSbtT.js";import{B}from"./Button.CTPbdzLc.js";function R(v={}){const{autoCleanup:g=!0,accept:o="*",multiple:n=!1,onChange:p=()=>{},onCancel:u=()=>{}}=v;let s=k(d([])),e=k(void 0);const i=[];x(e,d(document.createElement("input"))),t(e).type="file",t(e).accept=o,t(e).multiple=n,i.push(w(t(e),"change",r=>{x(s,d(Array.from(r.currentTarget.files??[]))),p(t(s))}),w(t(e),"cancel",()=>{u()})),g&&O(()=>{l()});function f(){t(e)&&t(e).click()}function a(){x(s,d([])),t(e)&&(t(e).value="")}function l(){var r;i.forEach(h=>h()),(r=t(e))==null||r.remove()}return{get files(){return t(s)},open:f,reset:a,cleanup:l}}var S=y("<li> </li>"),T=y('<p class="italic">Empty...</p>'),j=y('<div class="relative flex w-full flex-col gap-2"><!> <!> <div class="flex flex-col gap-5 dark:text-zinc-200"> <ul></ul></div></div>');function U(v,g){F(g,!0);const o=R({accept:"image/*",multiple:!0,onChange(a){console.log(A(a))},onCancel(){console.log("cancelled")}});var n=j(),p=_(n);B(p,{get onclick(){return o.open},children:(a,l)=>{E();var r=C("Open file dialog");c(a,r)},$$slots:{default:!0}});var u=$(p,2);const s=P(()=>o.files.length===0);B(u,{get onclick(){return o.reset},get disabled(){return t(s)},children:(a,l)=>{E();var r=C("Reset");c(a,r)},$$slots:{default:!0}});var e=$(u,2),i=_(e),f=$(i);L(f,21,()=>o.files,a=>a.name,(a,l)=>{var r=S(),h=_(r,!0);m(r),D(()=>b(h,t(l).name)),c(a,r)},a=>{var l=T();c(a,l)}),m(f),m(e),m(n),D(()=>b(i,`Selected Files (${o.files.length??""}) `)),c(v,n),z()}export{U as default};
